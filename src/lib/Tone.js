'use strict';

export default class Tone {

    constructor(context) {
        this.context = context;
        this.audioDest = this.context.createMediaStreamDestination();
        this.audioOutput = new Audio();
        this.audioOutput.srcObject = this.audioDest.stream;
        this.status = 0;
        this.ringing = 0;
        this.ringDest = this.context.createMediaStreamDestination();
        this.ringOutput = new Audio();
        this.ringOutput.srcObject = this.ringDest.stream;
        // TODO
        this.ringOutput.setSinkId('default');
        const ringTone = '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';
        const binary = atob(ringTone);
        const ringToneBuffer = new ArrayBuffer(binary.length);
        const bytes = new Uint8Array(ringToneBuffer);
        for (let i = 0; i < ringToneBuffer.byteLength; i++) {
            bytes[i] = binary.charCodeAt(i) & 0xFF;
        }
        const tone = this;
        context.decodeAudioData(ringToneBuffer, function(buffer) {
            tone.ringAudioBuffer = buffer;
        });
    }

    set audioSinkId(deviceId) {
        this.audioOutput.setSinkId(deviceId);
    };

    set ringSinkId(deviceId) {
        this.ringOutput.setSinkId(deviceId);
    };

    start(freq1, freq2) {
        if (this.status === 1) return;
        this.audioOutput.play();
        this.osc1 = this.context.createOscillator();
        this.osc2 = this.context.createOscillator();
        this.gainNode = this.context.createGain();
        this.gainNode.gain.value = 0.25;
        this.filter = this.context.createBiquadFilter();
        this.filter.type = 'lowpass';
        this.filter.frequency.value = 8000;
        this.osc1.connect(this.gainNode);
        this.osc2.connect(this.gainNode);
        this.gainNode.connect(this.filter);
        this.filter.connect(this.audioDest);
        this.osc1.frequency.value = freq1;
        this.osc2.frequency.value = freq2;
        this.osc1.start(0);
        this.osc2.start(0);
        this.status = 1;
    };

    stop() {
        this.audioOutput.pause();
        this.osc1.stop(0);
        this.osc2.stop(0);
        this.status = 0;
    };

    startDTMF(value) {
        if (this.ringing === 1) return;
        const dtmfFrequencies = {
            '1': {f1: 697, f2: 1209},
            '2': {f1: 697, f2: 1336},
            '3': {f1: 697, f2: 1477},
            '4': {f1: 770, f2: 1209},
            '5': {f1: 770, f2: 1336},
            '6': {f1: 770, f2: 1477},
            '7': {f1: 852, f2: 1209},
            '8': {f1: 852, f2: 1336},
            '9': {f1: 852, f2: 1477},
            '*': {f1: 941, f2: 1209},
            '0': {f1: 941, f2: 1336},
            '#': {f1: 941, f2: 1477}
        };
        this.start(dtmfFrequencies[value].f1, dtmfFrequencies[value].f2);
    };

    stopDTMF() {
        if (this.ringing === 1) return;
        this.stop();
    };

    createRingerLFO() {
        // Create an empty 3 second mono buffer at the sample rate of the AudioContext
        let channels = 1;
        let sampleRate = this.context.sampleRate;
        let frameCount = sampleRate * 3;
        let arrayBuffer = this.context.createBuffer(channels, frameCount, sampleRate);
        // getChannelData allows us to access and edit the buffer data and change.
        let bufferData = arrayBuffer.getChannelData(0);
        for (let i = 0; i < frameCount; i++) {
            // if the sample lies between 0 and 0.4 seconds, or 0.6 and 1 second, we want it to be on.
            if ((i / sampleRate > 0 && i / sampleRate < 0.4) || (i / sampleRate > 0.6 && i / sampleRate < 1.0)) {
                bufferData[i] = 0.25;
            }
        }
        this.ringerLFOBuffer = arrayBuffer;
    };

    startRinging() {
        this.start(400, 450);
        this.ringing = 1;
        // set our gain node to 0, because the LFO is calibrated to this level
        this.gainNode.gain.value = 0;
        this.createRingerLFO();
        this.ringerLFOSource = this.context.createBufferSource();
        this.ringerLFOSource.buffer = this.ringerLFOBuffer;
        this.ringerLFOSource.loop = true;
        // connect the ringerLFOSource to the gain Node audio param
        this.ringerLFOSource.connect(this.gainNode.gain);
        this.ringerLFOSource.start(0);
    };

    stopRinging() {
        if (this.ringing === 1) {
            this.ringerLFOSource.stop(0);
            this.ringerLFOSource.disconnect(0);
            this.stop();
            this.ringing = 0;
        }
    };

    boopBoop() {
        let tone = this;
        // wait for ringing to stop 1st
        if (this.ringing === 1) {
            this.stopRinging();
            setTimeout(function() {
                tone.boopBoop();
            }, 50);
            return;
        }
        tone.start(400, 400);
        setTimeout(function() {
            tone.stop();
            setTimeout(function() {
                tone.start(400, 400);
                setTimeout(function() {
                    tone.stop();
                }, 250);
            }, 200);
        }, 250);
    };

    beep() {
        this.start(1046, 1046);
        let tone = this;
        setTimeout(function() {
            tone.stop();
        }, 200);
    };

    startPlayback() {
        this.ringSource = this.context.createBufferSource();
        this.ringSource.loop = true;
        this.ringSource.buffer = this.ringAudioBuffer;
        this.ringSource.connect(this.ringDest);
        this.ringOutput.play();
        if (this.ringOutput.sinkId !== this.audioOutput.sinkId) {
            this.ringSource.connect(this.audioDest);
            this.audioOutput.play();
        }
        this.ringSource.start(0);
    }

    stopPlayback() {
        this.ringOutput.pause();
        this.audioOutput.pause();
        if (this.ringSource) {
            this.ringSource.stop(0);
            this.ringSource = null;
        }
    }

}
